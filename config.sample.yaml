---
flowehr_id: sample
location: uksouth
environment: sample
accesses_real_data: false  # Optional
private_dns_zones_rg: sample-rg-name  # Optional

data_source_connections:  # Optional
  - example:
    name: samplesql
    peering:  # Optional
      virtual_network_name: sample-vnet-name
      resource_group_name: sample-rg-name
      dns_zones:
        - samplezone.azure.com
    fqdn: samplesql.database.azure.com
    database: sampledb
    username: adminuser
    password: ${SECRET_PASSWORD_FROM_GH}

transform:  # Optional
  spark_version: 3.3  # Optional
  repositories:  # Optional
    - url: https://github.com/MY_TRANSFORM_CODE_REPO.git
    - url: https://github.com/MY_OTHER_TRANSFORM_CODE_REPO.git
      sha: abcd01abcd01abcd01abcd01abcd01abcd01abcd
  datalake:  # Optional
    zones:
      - Bronze
      - Silver
      - Gold
  spark_config:  # Optional
    - key: spark.databricks.cluster.profile  # Configuration for a Single Node cluster
      value: singleNode
    - key: spark.master
      value: local[*]
  databricks_secrets:  # Optional
    - key: cog_services_key
      value: my-secret-key  # On Github, this wil lbe a token replacement
  databricks_libraries:  # Optional
    pypi:
      - package: opencensus-ext-azure==1.1.9
      - package: opencensus-ext-logging==0.1.1
        repo: "custom-mirror"
    maven:
      - coordinates: "com.amazon.deequ:deequ:1.0.4"
        repo: "custom-mirror"
        exclusions: ["org.apache.avro:avro"]
    cran:
      - package: "rkeops"
        repo: "my-awesome-repo"
    whl:
      - "dbfs:/FileStore/baz.whl"
    egg:
      - "dbfs:/FileStore/foo.egg"
    jar:
      - "dbfs:/FileStore/app-0.0.1.jar"
  init_scripts:
    - /workspaces/FlowEHR/transform/sample_init_script.sh

serve:  # Optional
  github_owner: A-GitHub-Org
  github_app_id: 0000000000000
  github_app_installation_id: 00000000000000

monitoring:  # Optional
  alert_recipients:  # Optional
    - name: person
      email: person@example.com
  network_watcher:  # Optional, required if accesses_real_data
    name: NetworkWatcher_location
    resource_group_name: NetworkWatcherRG
